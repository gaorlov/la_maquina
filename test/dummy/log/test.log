  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('0')[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150228015009"]]
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_variable_class_names
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
MasterCacheObjectTest: test_update_master_object_can_update_self
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_implict_class
-----------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_explicit_class_and_class_name
---------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------
ThingTest: test_truth
---------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMAchineTest: test_object_name_formatting
---------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMAchineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
ThingTest: test_truth
---------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMAchineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMAchineTest: test_object_name_formatting
---------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_explicit_class_and_class_name
---------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
MasterCacheObjectTest: test_update_master_object_can_update_self
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_variable_class_names
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_implict_class
-----------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
ThingTest: test_truth
---------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMAchineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMAchineTest: test_object_name_formatting
---------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_implict_class
-----------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
MasterCacheObjectTest: test_update_master_object_can_update_self
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_explicit_class_and_class_name
---------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_variable_class_names
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_explicit_class_and_class_name
---------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_implict_class
-----------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_variable_class_names
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
MasterCacheObjectTest: test_update_master_object_can_update_self
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
ThingTest: test_truth
---------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
ThingTest: test_truth
---------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_implict_class
-----------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
MasterCacheObjectTest: test_update_master_object_can_update_self
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_explicit_class_and_class_name
---------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_variable_class_names
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
ThingTest: test_truth
---------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_implict_class
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
MasterCacheObjectTest: test_update_master_object_can_update_self
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_variable_class_names
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_explicit_class_and_class_name
---------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
ThingTest: test_truth
---------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_explicit_class_and_class_name
---------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
MasterCacheObjectTest: test_update_master_object_can_update_self
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_variable_class_names
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_implict_class
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_implict_class
-----------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_explicit_class_and_class_name
---------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_variable_class_names
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
MasterCacheObjectTest: test_update_master_object_can_update_self
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
ThingTest: test_truth
---------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
MasterCacheObjectTest: test_update_master_object_can_update_self
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_explicit_class_and_class_name
---------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_variable_class_names
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_implict_class
-----------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------
ThingTest: test_truth
---------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
ThingTest: test_truth
---------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_variable_class_names
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_implict_class
-----------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_explicit_class_and_class_name
---------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
MasterCacheObjectTest: test_update_master_object_can_update_self
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_variable_class_names
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_explicit_class_and_class_name
---------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
MasterCacheObjectTest: test_update_master_object_can_update_self
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_implict_class
-----------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------
ThingTest: test_truth
---------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_variable_class_names
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_implict_class
-----------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
MasterCacheObjectTest: test_update_master_object_can_update_self
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_explicit_class_and_class_name
---------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
ThingTest: test_truth
---------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_id" integer, "attribute_id" integer, "value" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "guest" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "guest_attribute" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "attribute_id" integer, "value" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "property" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20150228015009')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------
ThingTest: test_truth
---------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
MasterCacheObjectTest: test_update_master_object_can_update_self
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_explicit_class_and_class_name
---------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_implict_class
-----------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_master_objects_suports_variable_class_names
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150228015009"]]
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "admin_traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "guest_traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "admin_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "admins"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "properties"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "guests"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guests" ("name", "id") VALUES ('Greg', 463259521)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guests" ("name", "id") VALUES ('Joe', 633107804)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_trait_modifiers"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "guest_trait_modifiers" ("modifier", "id", "guest_trait_id") VALUES ('whatever', 137107082, 183967328)
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_polymorphism
---------------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mProperty Load (0.1ms)[0m  SELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1  [["id", 452975041]]
  [1m[36mProperty Load (0.1ms)[0m  [1mSELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1[0m  [["id", 288924083]]
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mGuest Load (0.1ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?[0m  [["value", "blah"], ["id", 452975041]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?  [["value", "blah blah"], ["id", 288924083]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_objects_suports_explicit_class_and_class_name
--------------------------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTrait Load (0.1ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mTrait Load (0.2ms)[0m  [1mSELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1[0m  [["id", 775016631]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "admin_traits" SET "value" = ? WHERE "admin_traits"."id" = ?[0m  [["value", "lol"], ["id", 286136294]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_implict_class
----------------------------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuestTrait Load (0.3ms)[0m  [1mSELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1[0m  [["id", 183967328]]
  [1m[35mGuest Load (0.1ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36mTrait Load (0.1ms)[0m  [1mSELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1[0m  [["id", 165294587]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "guest_traits" SET "value" = ? WHERE "guest_traits"."id" = ?[0m  [["value", "who cares"], ["id", 183967328]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_can_update_self
---------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?[0m  [["name", "WHEEL!"], ["id", 567324533]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?  [["name", "lol"], ["id", 631553402]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150228015009"]]
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "admin_traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "guest_traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "admin_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "admins"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "properties"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "guests"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guests" ("name", "id") VALUES ('Greg', 463259521)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guests" ("name", "id") VALUES ('Joe', 633107804)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_trait_modifiers" ("modifier", "id", "guest_trait_id") VALUES ('whatever', 137107082, 183967328)
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 631553402]]
  [1m[35mAdminTrait Load (0.2ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through
-----------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuestTraitModifier Load (0.1ms)[0m  [1mSELECT  "guest_trait_modifiers".* FROM "guest_trait_modifiers" WHERE "guest_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 137107082]]
  [1m[35mGuestTrait Load (0.2ms)[0m  SELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1  [["id", 183967328]]
  [1m[36mGuest Load (0.2ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "guest_trait_modifiers" SET "modifier" = ? WHERE "guest_trait_modifiers"."id" = ?[0m  [["modifier", "something something darkside"], ["id", 137107082]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_objects_suports_explicit_class_and_class_name
--------------------------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdminTrait Load (0.0ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "admin_traits" SET "value" = ? WHERE "admin_traits"."id" = ?  [["value", "lol"], ["id", 286136294]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdmin Load (0.0ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 631553402]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?[0m  [["name", "lol"], ["id", 631553402]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through_with_explicit_target_class
--------------------------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdminTraitModifier Load (0.1ms)[0m  SELECT  "admin_trait_modifiers".* FROM "admin_trait_modifiers" WHERE "admin_trait_modifiers"."id" = ? LIMIT 1  [["id", 971484503]]
  [1m[36mAdminTrait Load (0.1ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mTrait Load (0.1ms)[0m  [1mSELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1[0m  [["id", 775016631]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "admin_trait_modifiers" SET "modifier" = ? WHERE "admin_trait_modifiers"."id" = ?[0m  [["modifier", "something something darkside"], ["id", 971484503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_creation_updates_master
-----------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mGuest Load (0.1ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "guest_id") VALUES (?, ?)  [["value", "some bullshit"], ["guest_id", 463259521]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_polymorphism
---------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mProperty Load (0.1ms)[0m  [1mSELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1[0m  [["id", 452975041]]
  [1m[35mProperty Load (0.1ms)[0m  SELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1  [["id", 288924083]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 631553402]]
  [1m[35mGuest Load (0.1ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?  [["value", "blah"], ["id", 452975041]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?[0m  [["value", "blah blah"], ["id", 288924083]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_implict_class
----------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuestTrait Load (0.2ms)[0m  [1mSELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1[0m  [["id", 183967328]]
  [1m[35mGuest Load (0.2ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36mTrait Load (0.1ms)[0m  [1mSELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1[0m  [["id", 165294587]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "guest_traits" SET "value" = ? WHERE "guest_traits"."id" = ?[0m  [["value", "who cares"], ["id", 183967328]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_destruction_updates_master
--------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdminTrait Load (0.0ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "admin_traits" WHERE "admin_traits"."id" = ?  [["id", 286136294]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_can_update_self
---------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?  [["name", "WHEEL!"], ["id", 567324533]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "standalone" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150228015009"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "standalone"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "standalone" ("value") VALUES ('whatever')
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guests"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guests" ("name", "id") VALUES ('Greg', 463259521)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guests" ("name", "id") VALUES ('Joe', 633107804)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "guest_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_trait_modifiers" ("modifier", "id", "guest_trait_id") VALUES ('whatever', 137107082, 183967328)[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mAdminTrait Load (0.2ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through
-----------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuestTraitModifier Load (0.1ms)[0m  [1mSELECT  "guest_trait_modifiers".* FROM "guest_trait_modifiers" WHERE "guest_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 137107082]]
  [1m[35mGuestTrait Load (0.2ms)[0m  SELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1  [["id", 183967328]]
  [1m[36mGuest Load (0.2ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "guest_trait_modifiers" SET "modifier" = ? WHERE "guest_trait_modifiers"."id" = ?[0m  [["modifier", "something something darkside"], ["id", 137107082]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_creation_updates_master
-----------------------------------------------------------------------
  [1m[36mAdmin Load (0.4ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mGuest Load (0.1ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "guest_id") VALUES (?, ?)  [["value", "some bullshit"], ["guest_id", 463259521]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_destruction_updates_master
--------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTrait Load (0.0ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "admin_traits" WHERE "admin_traits"."id" = ?[0m  [["id", 286136294]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_polymorphism
---------------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mProperty Load (0.1ms)[0m  SELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1  [["id", 452975041]]
  [1m[36mProperty Load (0.1ms)[0m  [1mSELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1[0m  [["id", 288924083]]
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mGuest Load (0.7ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?[0m  [["value", "blah"], ["id", 452975041]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?  [["value", "blah blah"], ["id", 288924083]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_can_update_self
---------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "standalone" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150228015009"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "standalone"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "standalone" ("value") VALUES ('whatever')
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guests"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guests" ("name", "id") VALUES ('Greg', 463259521)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guests" ("name", "id") VALUES ('Joe', 633107804)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "guest_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_trait_modifiers" ("modifier", "id", "guest_trait_id") VALUES ('whatever', 137107082, 183967328)[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through_with_explicit_target_class
--------------------------------------------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTraitModifier Load (0.1ms)[0m  [1mSELECT  "admin_trait_modifiers".* FROM "admin_trait_modifiers" WHERE "admin_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 971484503]]
  [1m[35mAdminTrait Load (0.2ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "standalone" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150228015009"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "standalone"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "standalone" ("value") VALUES ('whatever')
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guests"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guests" ("name", "id") VALUES ('Greg', 463259521)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guests" ("name", "id") VALUES ('Joe', 633107804)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "guest_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_trait_modifiers" ("modifier", "id", "guest_trait_id") VALUES ('whatever', 137107082, 183967328)[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mAdminTrait Load (0.4ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through_with_explicit_target_class
--------------------------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTraitModifier Load (0.1ms)[0m  [1mSELECT  "admin_trait_modifiers".* FROM "admin_trait_modifiers" WHERE "admin_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 971484503]]
  [1m[35mAdminTrait Load (0.1ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "admin_trait_modifiers" SET "modifier" = ? WHERE "admin_trait_modifiers"."id" = ?  [["modifier", "something something darkside"], ["id", 971484503]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_polymorphism
---------------------------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mProperty Load (0.1ms)[0m  [1mSELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1[0m  [["id", 452975041]]
  [1m[35mProperty Load (0.7ms)[0m  SELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1  [["id", 288924083]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 631553402]]
  [1m[35mGuest Load (0.2ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?  [["value", "blah"], ["id", 452975041]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?[0m  [["value", "blah blah"], ["id", 288924083]]
  [1m[35m (1.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through
-----------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mGuestTraitModifier Load (0.1ms)[0m  SELECT  "guest_trait_modifiers".* FROM "guest_trait_modifiers" WHERE "guest_trait_modifiers"."id" = ? LIMIT 1  [["id", 137107082]]
  [1m[36mGuestTrait Load (0.2ms)[0m  [1mSELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1[0m  [["id", 183967328]]
  [1m[35mGuest Load (0.1ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  UPDATE "guest_trait_modifiers" SET "modifier" = ? WHERE "guest_trait_modifiers"."id" = ?  [["modifier", "something something darkside"], ["id", 137107082]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_objects_suports_explicit_class_and_class_name
--------------------------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTrait Load (0.1ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35mAdmin Load (0.0ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mTrait Load (0.1ms)[0m  [1mSELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1[0m  [["id", 775016631]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "admin_traits" SET "value" = ? WHERE "admin_traits"."id" = ?[0m  [["value", "lol"], ["id", 286136294]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_can_handle_comm_object_failures
-----------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_creation_updates_master
-----------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuest Load (0.1ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "guest_traits" ("value", "guest_id") VALUES (?, ?)[0m  [["value", "some bullshit"], ["guest_id", 463259521]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdmin Load (0.0ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?  [["name", "lol"], ["id", 631553402]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_can_update_self
---------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?[0m  [["name", "WHEEL!"], ["id", 567324533]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_implict_class
----------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mGuestTrait Load (0.1ms)[0m  SELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1  [["id", 183967328]]
  [1m[36mGuest Load (0.1ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 165294587]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "guest_traits" SET "value" = ? WHERE "guest_traits"."id" = ?  [["value", "who cares"], ["id", 183967328]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_destruction_updates_master
--------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdminTrait Load (0.1ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "admin_traits" WHERE "admin_traits"."id" = ?  [["id", 286136294]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "standalone" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150228015009"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "standalone" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150228015009"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "admin_traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "guest_traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "admin_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "admins"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "properties"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "traits"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "admin_traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "guest_traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "admin_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "admins"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "properties"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "admin_traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "guest_traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "admin_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "admins"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "properties"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "admin_traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "guest_traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "admin_trait_modifiers"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "admins"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "properties"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "admin_traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "guest_traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "admin_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "admins"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "properties"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "admin_traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "guest_traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "admin_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "admins"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "properties"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "admin_traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "guest_traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "admin_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "admins"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "properties"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "standalone" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150228015009"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "standalone" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150228015009"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "standalones" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150228015009"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "standalones"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "standalones" ("value", "id") VALUES ('whatever', 457976964)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guests"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guests" ("name", "id") VALUES ('Greg', 463259521)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guests" ("name", "id") VALUES ('Joe', 633107804)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "guest_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_trait_modifiers" ("modifier", "id", "guest_trait_id") VALUES ('whatever', 137107082, 183967328)[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through
-----------------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuestTraitModifier Load (0.1ms)[0m  [1mSELECT  "guest_trait_modifiers".* FROM "guest_trait_modifiers" WHERE "guest_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 137107082]]
  [1m[35mGuestTrait Load (0.2ms)[0m  SELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1  [["id", 183967328]]
  [1m[36mGuest Load (0.2ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "guest_trait_modifiers" SET "modifier" = ? WHERE "guest_trait_modifiers"."id" = ?[0m  [["modifier", "something something darkside"], ["id", 137107082]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?  [["name", "lol"], ["id", 631553402]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35mAdmin Load (1.0ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_polymorphism
---------------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mProperty Load (0.5ms)[0m  SELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1  [["id", 452975041]]
  [1m[36mProperty Load (0.3ms)[0m  [1mSELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1[0m  [["id", 288924083]]
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mGuest Load (0.1ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?[0m  [["value", "blah"], ["id", 452975041]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?  [["value", "blah blah"], ["id", 288924083]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through_with_explicit_target_class
--------------------------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTraitModifier Load (0.6ms)[0m  [1mSELECT  "admin_trait_modifiers".* FROM "admin_trait_modifiers" WHERE "admin_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 971484503]]
  [1m[35mAdminTrait Load (0.2ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.2ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "admin_trait_modifiers" SET "modifier" = ? WHERE "admin_trait_modifiers"."id" = ?  [["modifier", "something something darkside"], ["id", 971484503]]
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_can_handle_comm_object_failures
-----------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mStandalone Load (0.1ms)[0m  [1mSELECT  "standalones".* FROM "standalones" WHERE "standalones"."id" = ? LIMIT 1[0m  [["id", 457976964]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "standalones" SET "value" = ? WHERE "standalones"."id" = ?[0m  [["value", "something new"], ["id", 457976964]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_can_update_self
---------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?[0m  [["name", "WHEEL!"], ["id", 567324533]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-----------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_creation_updates_master
-----------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mGuest Load (0.1ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "guest_traits" ("value", "guest_id") VALUES (?, ?)  [["value", "some bullshit"], ["guest_id", 463259521]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_implict_class
----------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuestTrait Load (0.1ms)[0m  [1mSELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1[0m  [["id", 183967328]]
  [1m[35mGuest Load (0.1ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36mTrait Load (0.1ms)[0m  [1mSELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1[0m  [["id", 165294587]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "guest_traits" SET "value" = ? WHERE "guest_traits"."id" = ?[0m  [["value", "who cares"], ["id", 183967328]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_objects_suports_explicit_class_and_class_name
--------------------------------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdminTrait Load (0.2ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.2ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "admin_traits" SET "value" = ? WHERE "admin_traits"."id" = ?  [["value", "lol"], ["id", 286136294]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_destruction_updates_master
--------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdminTrait Load (0.1ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "admin_traits" WHERE "admin_traits"."id" = ?  [["id", 286136294]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mAdminTrait Load (0.1ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "standalones" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150228015009"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "standalones"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "standalones" ("value", "id") VALUES ('whatever', 457976964)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guests"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guests" ("name", "id") VALUES ('Greg', 463259521)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guests" ("name", "id") VALUES ('Joe', 633107804)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "guest_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_trait_modifiers" ("modifier", "id", "guest_trait_id") VALUES ('whatever', 137107082, 183967328)[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_objects_suports_explicit_class_and_class_name
--------------------------------------------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTrait Load (0.6ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mTrait Load (0.1ms)[0m  [1mSELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1[0m  [["id", 775016631]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "admin_traits" SET "value" = ? WHERE "admin_traits"."id" = ?[0m  [["value", "lol"], ["id", 286136294]]
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_implict_class
----------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mGuestTrait Load (0.1ms)[0m  SELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1  [["id", 183967328]]
  [1m[36mGuest Load (0.1ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 165294587]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "guest_traits" SET "value" = ? WHERE "guest_traits"."id" = ?  [["value", "who cares"], ["id", 183967328]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_creation_updates_master
-----------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mGuest Load (0.1ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "guest_id") VALUES (?, ?)  [["value", "some bullshit"], ["guest_id", 463259521]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_can_handle_comm_object_failures
-----------------------------------------------------------------------
  [1m[35mAdmin Load (0.3ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mStandalone Load (0.1ms)[0m  [1mSELECT  "standalones".* FROM "standalones" WHERE "standalones"."id" = ? LIMIT 1[0m  [["id", 457976964]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "standalones" SET "value" = ? WHERE "standalones"."id" = ?[0m  [["value", "something new"], ["id", 457976964]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_destruction_updates_master
--------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTrait Load (0.0ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "admin_traits" WHERE "admin_traits"."id" = ?[0m  [["id", 286136294]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?  [["name", "lol"], ["id", 631553402]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_can_update_self
---------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?  [["name", "WHEEL!"], ["id", 567324533]]
  [1m[36m (1.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through
-----------------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuestTraitModifier Load (0.3ms)[0m  [1mSELECT  "guest_trait_modifiers".* FROM "guest_trait_modifiers" WHERE "guest_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 137107082]]
  [1m[35mGuestTrait Load (0.1ms)[0m  SELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1  [["id", 183967328]]
  [1m[36mGuest Load (0.1ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "guest_trait_modifiers" SET "modifier" = ? WHERE "guest_trait_modifiers"."id" = ?[0m  [["modifier", "something something darkside"], ["id", 137107082]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through_with_explicit_target_class
--------------------------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdminTraitModifier Load (0.3ms)[0m  SELECT  "admin_trait_modifiers".* FROM "admin_trait_modifiers" WHERE "admin_trait_modifiers"."id" = ? LIMIT 1  [["id", 971484503]]
  [1m[36mAdminTrait Load (0.1ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35mAdmin Load (0.0ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mTrait Load (0.1ms)[0m  [1mSELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1[0m  [["id", 775016631]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "admin_trait_modifiers" SET "modifier" = ? WHERE "admin_trait_modifiers"."id" = ?[0m  [["modifier", "something something darkside"], ["id", 971484503]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_polymorphism
---------------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mProperty Load (0.1ms)[0m  SELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1  [["id", 452975041]]
  [1m[36mProperty Load (0.1ms)[0m  [1mSELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1[0m  [["id", 288924083]]
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mGuest Load (0.1ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?[0m  [["value", "blah"], ["id", 452975041]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?  [["value", "blah blah"], ["id", 288924083]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mAdminTrait Load (0.3ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "standalones" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150228015009"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "standalones"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "standalones" ("value", "id") VALUES ('whatever', 457976964)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guests"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guests" ("name", "id") VALUES ('Greg', 463259521)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guests" ("name", "id") VALUES ('Joe', 633107804)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "guest_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_trait_modifiers" ("modifier", "id", "guest_trait_id") VALUES ('whatever', 137107082, 183967328)[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mAdminTrait Load (0.2ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through_with_explicit_target_class
--------------------------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTraitModifier Load (0.1ms)[0m  [1mSELECT  "admin_trait_modifiers".* FROM "admin_trait_modifiers" WHERE "admin_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 971484503]]
  [1m[35mAdminTrait Load (0.1ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.2ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "admin_trait_modifiers" SET "modifier" = ? WHERE "admin_trait_modifiers"."id" = ?  [["modifier", "something something darkside"], ["id", 971484503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_can_update_self
---------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?  [["name", "WHEEL!"], ["id", 567324533]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?  [["name", "lol"], ["id", 631553402]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_objects_suports_explicit_class_and_class_name
--------------------------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdminTrait Load (0.1ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.2ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "admin_traits" SET "value" = ? WHERE "admin_traits"."id" = ?  [["value", "lol"], ["id", 286136294]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_destruction_updates_master
--------------------------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTrait Load (1.3ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "admin_traits" WHERE "admin_traits"."id" = ?[0m  [["id", 286136294]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_implict_class
----------------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mGuestTrait Load (0.1ms)[0m  SELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1  [["id", 183967328]]
  [1m[36mGuest Load (0.2ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 165294587]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "guest_traits" SET "value" = ? WHERE "guest_traits"."id" = ?  [["value", "who cares"], ["id", 183967328]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_can_handle_comm_object_failures
-----------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mStandalone Load (0.1ms)[0m  [1mSELECT  "standalones".* FROM "standalones" WHERE "standalones"."id" = ? LIMIT 1[0m  [["id", 457976964]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "standalones" SET "value" = ? WHERE "standalones"."id" = ?[0m  [["value", "something new"], ["id", 457976964]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_polymorphism
---------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mProperty Load (0.1ms)[0m  SELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1  [["id", 452975041]]
  [1m[36mProperty Load (0.1ms)[0m  [1mSELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1[0m  [["id", 288924083]]
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mGuest Load (0.1ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?[0m  [["value", "blah"], ["id", 452975041]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?  [["value", "blah blah"], ["id", 288924083]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_creation_updates_master
-----------------------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuest Load (0.1ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "guest_traits" ("value", "guest_id") VALUES (?, ?)[0m  [["value", "some bullshit"], ["guest_id", 463259521]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through
-----------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mGuestTraitModifier Load (0.1ms)[0m  SELECT  "guest_trait_modifiers".* FROM "guest_trait_modifiers" WHERE "guest_trait_modifiers"."id" = ? LIMIT 1  [["id", 137107082]]
  [1m[36mGuestTrait Load (0.1ms)[0m  [1mSELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1[0m  [["id", 183967328]]
  [1m[35mGuest Load (0.1ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "guest_trait_modifiers" SET "modifier" = ? WHERE "guest_trait_modifiers"."id" = ?  [["modifier", "something something darkside"], ["id", 137107082]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "standalones" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150228015009"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "standalones"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "standalones" ("value", "id") VALUES ('whatever', 457976964)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guests"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guests" ("name", "id") VALUES ('Greg', 463259521)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guests" ("name", "id") VALUES ('Joe', 633107804)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "guest_trait_modifiers"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "guest_trait_modifiers" ("modifier", "id", "guest_trait_id") VALUES ('whatever', 137107082, 183967328)[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mAdminTrait Load (0.2ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through
-----------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuestTraitModifier Load (0.1ms)[0m  [1mSELECT  "guest_trait_modifiers".* FROM "guest_trait_modifiers" WHERE "guest_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 137107082]]
  [1m[35mGuestTrait Load (0.2ms)[0m  SELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1  [["id", 183967328]]
  [1m[36mGuest Load (0.2ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (1.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "guest_trait_modifiers" SET "modifier" = ? WHERE "guest_trait_modifiers"."id" = ?[0m  [["modifier", "something something darkside"], ["id", 137107082]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_destruction_updates_master
--------------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdminTrait Load (0.1ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "admin_traits" WHERE "admin_traits"."id" = ?  [["id", 286136294]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (1.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_creation_updates_master
-----------------------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuest Load (0.1ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "guest_traits" ("value", "guest_id") VALUES (?, ?)[0m  [["value", "some bullshit"], ["guest_id", 463259521]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdmin Load (0.0ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?  [["name", "lol"], ["id", 631553402]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_implict_class
----------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuestTrait Load (0.1ms)[0m  [1mSELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1[0m  [["id", 183967328]]
  [1m[35mGuest Load (0.0ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36mTrait Load (0.2ms)[0m  [1mSELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1[0m  [["id", 165294587]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "guest_traits" SET "value" = ? WHERE "guest_traits"."id" = ?[0m  [["value", "who cares"], ["id", 183967328]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_objects_suports_explicit_class_and_class_name
--------------------------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdminTrait Load (0.0ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "admin_traits" SET "value" = ? WHERE "admin_traits"."id" = ?  [["value", "lol"], ["id", 286136294]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through_with_explicit_target_class
--------------------------------------------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTraitModifier Load (0.3ms)[0m  [1mSELECT  "admin_trait_modifiers".* FROM "admin_trait_modifiers" WHERE "admin_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 971484503]]
  [1m[35mAdminTrait Load (0.1ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "admin_trait_modifiers" SET "modifier" = ? WHERE "admin_trait_modifiers"."id" = ?  [["modifier", "something something darkside"], ["id", 971484503]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_can_handle_comm_object_failures
-----------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mStandalone Load (0.3ms)[0m  SELECT  "standalones".* FROM "standalones" WHERE "standalones"."id" = ? LIMIT 1  [["id", 457976964]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "standalones" SET "value" = ? WHERE "standalones"."id" = ?  [["value", "something new"], ["id", 457976964]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_can_update_self
---------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?  [["name", "WHEEL!"], ["id", 567324533]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_polymorphism
---------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mProperty Load (0.2ms)[0m  [1mSELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1[0m  [["id", 452975041]]
  [1m[35mProperty Load (0.1ms)[0m  SELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1  [["id", 288924083]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 631553402]]
  [1m[35mGuest Load (0.1ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?  [["value", "blah"], ["id", 452975041]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?[0m  [["value", "blah blah"], ["id", 288924083]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "standalones" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150228015009"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "standalones"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "standalones" ("value", "id") VALUES ('whatever', 457976964)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guests"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guests" ("name", "id") VALUES ('Greg', 463259521)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guests" ("name", "id") VALUES ('Joe', 633107804)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "guest_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_trait_modifiers" ("modifier", "id", "guest_trait_id") VALUES ('whatever', 137107082, 183967328)[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through
-----------------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuestTraitModifier Load (0.1ms)[0m  [1mSELECT  "guest_trait_modifiers".* FROM "guest_trait_modifiers" WHERE "guest_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 137107082]]
  [1m[35mGuestTrait Load (0.2ms)[0m  SELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1  [["id", 183967328]]
  [1m[36mGuest Load (0.2ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE "guest_trait_modifiers" SET "modifier" = ? WHERE "guest_trait_modifiers"."id" = ?[0m  [["modifier", "something something darkside"], ["id", 137107082]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_can_handle_comm_object_failures
-----------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mStandalone Load (0.3ms)[0m  SELECT  "standalones".* FROM "standalones" WHERE "standalones"."id" = ? LIMIT 1  [["id", 457976964]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "standalones" SET "value" = ? WHERE "standalones"."id" = ?  [["value", "something new"], ["id", 457976964]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through_with_explicit_target_class
--------------------------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTraitModifier Load (0.1ms)[0m  [1mSELECT  "admin_trait_modifiers".* FROM "admin_trait_modifiers" WHERE "admin_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 971484503]]
  [1m[35mAdminTrait Load (0.7ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.6ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.2ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  UPDATE "admin_trait_modifiers" SET "modifier" = ? WHERE "admin_trait_modifiers"."id" = ?  [["modifier", "something something darkside"], ["id", 971484503]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdmin Load (0.0ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 631553402]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?[0m  [["name", "lol"], ["id", 631553402]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_implict_class
----------------------------------------------------------------------------
  [1m[35mAdmin Load (0.0ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuestTrait Load (0.1ms)[0m  [1mSELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1[0m  [["id", 183967328]]
  [1m[35mGuest Load (0.0ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36mTrait Load (0.1ms)[0m  [1mSELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1[0m  [["id", 165294587]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "guest_traits" SET "value" = ? WHERE "guest_traits"."id" = ?[0m  [["value", "who cares"], ["id", 183967328]]
  [1m[35m (1.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_objects_suports_explicit_class_and_class_name
--------------------------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdminTrait Load (0.1ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.0ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "admin_traits" SET "value" = ? WHERE "admin_traits"."id" = ?  [["value", "lol"], ["id", 286136294]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_polymorphism
---------------------------------------------------------------------------
  [1m[35mAdmin Load (1.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mProperty Load (0.3ms)[0m  [1mSELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1[0m  [["id", 452975041]]
  [1m[35mProperty Load (0.1ms)[0m  SELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1  [["id", 288924083]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 631553402]]
  [1m[35mGuest Load (0.1ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?  [["value", "blah"], ["id", 452975041]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?[0m  [["value", "blah blah"], ["id", 288924083]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_can_update_self
---------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?[0m  [["name", "WHEEL!"], ["id", 567324533]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_destruction_updates_master
--------------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdminTrait Load (0.1ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "admin_traits" WHERE "admin_traits"."id" = ?  [["id", 286136294]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_creation_updates_master
-----------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mGuest Load (0.2ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "guest_traits" ("value", "guest_id") VALUES (?, ?)  [["value", "some bullshit"], ["guest_id", 463259521]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mAdminTrait Load (0.1ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "standalones" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150228015009"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "standalones"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "standalones" ("value", "id") VALUES ('whatever', 457976964)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guests"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guests" ("name", "id") VALUES ('Greg', 463259521)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guests" ("name", "id") VALUES ('Joe', 633107804)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "guest_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_trait_modifiers" ("modifier", "id", "guest_trait_id") VALUES ('whatever', 137107082, 183967328)[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mAdminTrait Load (0.2ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_implict_class
----------------------------------------------------------------------------
  [1m[35mAdmin Load (0.4ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuestTrait Load (0.1ms)[0m  [1mSELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1[0m  [["id", 183967328]]
  [1m[35mGuest Load (0.3ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36mTrait Load (0.2ms)[0m  [1mSELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1[0m  [["id", 165294587]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "guest_traits" SET "value" = ? WHERE "guest_traits"."id" = ?[0m  [["value", "who cares"], ["id", 183967328]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through
-----------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mGuestTraitModifier Load (0.1ms)[0m  SELECT  "guest_trait_modifiers".* FROM "guest_trait_modifiers" WHERE "guest_trait_modifiers"."id" = ? LIMIT 1  [["id", 137107082]]
  [1m[36mGuestTrait Load (0.1ms)[0m  [1mSELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1[0m  [["id", 183967328]]
  [1m[35mGuest Load (0.0ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "guest_trait_modifiers" SET "modifier" = ? WHERE "guest_trait_modifiers"."id" = ?  [["modifier", "something something darkside"], ["id", 137107082]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through_with_explicit_target_class
--------------------------------------------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTraitModifier Load (0.1ms)[0m  [1mSELECT  "admin_trait_modifiers".* FROM "admin_trait_modifiers" WHERE "admin_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 971484503]]
  [1m[35mAdminTrait Load (0.1ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "admin_trait_modifiers" SET "modifier" = ? WHERE "admin_trait_modifiers"."id" = ?  [["modifier", "something something darkside"], ["id", 971484503]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_creation_updates_master
-----------------------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuest Load (0.2ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "guest_traits" ("value", "guest_id") VALUES (?, ?)[0m  [["value", "some bullshit"], ["guest_id", 463259521]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?  [["name", "lol"], ["id", 631553402]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_can_update_self
---------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?  [["name", "WHEEL!"], ["id", 567324533]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_destruction_updates_master
--------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTrait Load (0.1ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "admin_traits" WHERE "admin_traits"."id" = ?[0m  [["id", 286136294]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_polymorphism
---------------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mProperty Load (0.4ms)[0m  SELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1  [["id", 452975041]]
  [1m[36mProperty Load (0.1ms)[0m  [1mSELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1[0m  [["id", 288924083]]
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mGuest Load (0.1ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?[0m  [["value", "blah"], ["id", 452975041]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?  [["value", "blah blah"], ["id", 288924083]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_objects_suports_explicit_class_and_class_name
--------------------------------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdminTrait Load (0.1ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "admin_traits" SET "value" = ? WHERE "admin_traits"."id" = ?  [["value", "lol"], ["id", 286136294]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_can_handle_comm_object_failures
-----------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mStandalone Load (0.3ms)[0m  SELECT  "standalones".* FROM "standalones" WHERE "standalones"."id" = ? LIMIT 1  [["id", 457976964]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "standalones" SET "value" = ? WHERE "standalones"."id" = ?  [["value", "something new"], ["id", 457976964]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "standalones" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150228015009"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "standalones"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "standalones" ("value", "id") VALUES ('whatever', 457976964)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guests"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guests" ("name", "id") VALUES ('Greg', 463259521)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guests" ("name", "id") VALUES ('Joe', 633107804)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "guest_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_trait_modifiers" ("modifier", "id", "guest_trait_id") VALUES ('whatever', 137107082, 183967328)[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mAdminTrait Load (0.2ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through
-----------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuestTraitModifier Load (0.6ms)[0m  [1mSELECT  "guest_trait_modifiers".* FROM "guest_trait_modifiers" WHERE "guest_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 137107082]]
  [1m[35mGuestTrait Load (0.2ms)[0m  SELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1  [["id", 183967328]]
  [1m[36mGuest Load (0.1ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "guest_trait_modifiers" SET "modifier" = ? WHERE "guest_trait_modifiers"."id" = ?[0m  [["modifier", "something something darkside"], ["id", 137107082]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_creation_updates_master
-----------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mGuest Load (0.1ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "guest_id") VALUES (?, ?)  [["value", "some bullshit"], ["guest_id", 463259521]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_destruction_updates_master
--------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTrait Load (0.0ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "admin_traits" WHERE "admin_traits"."id" = ?[0m  [["id", 286136294]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_can_handle_comm_object_failures
-----------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mStandalone Load (0.3ms)[0m  SELECT  "standalones".* FROM "standalones" WHERE "standalones"."id" = ? LIMIT 1  [["id", 457976964]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "standalones" SET "value" = ? WHERE "standalones"."id" = ?  [["value", "something new"], ["id", 457976964]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdmin Load (0.0ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 631553402]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?[0m  [["name", "lol"], ["id", 631553402]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_can_update_self
---------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?[0m  [["name", "WHEEL!"], ["id", 567324533]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_implict_class
----------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mGuestTrait Load (0.1ms)[0m  SELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1  [["id", 183967328]]
  [1m[36mGuest Load (0.0ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 165294587]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "guest_traits" SET "value" = ? WHERE "guest_traits"."id" = ?  [["value", "who cares"], ["id", 183967328]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through_with_explicit_target_class
--------------------------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTraitModifier Load (0.3ms)[0m  [1mSELECT  "admin_trait_modifiers".* FROM "admin_trait_modifiers" WHERE "admin_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 971484503]]
  [1m[35mAdminTrait Load (0.1ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "admin_trait_modifiers" SET "modifier" = ? WHERE "admin_trait_modifiers"."id" = ?  [["modifier", "something something darkside"], ["id", 971484503]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35mAdmin Load (0.6ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_objects_suports_explicit_class_and_class_name
--------------------------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdminTrait Load (0.1ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "admin_traits" SET "value" = ? WHERE "admin_traits"."id" = ?  [["value", "lol"], ["id", 286136294]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_polymorphism
---------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mProperty Load (0.2ms)[0m  [1mSELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1[0m  [["id", 452975041]]
  [1m[35mProperty Load (0.1ms)[0m  SELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1  [["id", 288924083]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 631553402]]
  [1m[35mGuest Load (0.1ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?  [["value", "blah"], ["id", 452975041]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?[0m  [["value", "blah blah"], ["id", 288924083]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "standalones" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150228015009"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "standalones" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150228015009"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "standalones"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "standalones" ("value", "id") VALUES ('whatever', 457976964)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guests"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guests" ("name", "id") VALUES ('Greg', 463259521)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guests" ("name", "id") VALUES ('Joe', 633107804)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "guest_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_trait_modifiers" ("modifier", "id", "guest_trait_id") VALUES ('whatever', 137107082, 183967328)[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mAdminTrait Load (0.2ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through
-----------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuestTraitModifier Load (0.1ms)[0m  [1mSELECT  "guest_trait_modifiers".* FROM "guest_trait_modifiers" WHERE "guest_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 137107082]]
  [1m[35mGuestTrait Load (0.2ms)[0m  SELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1  [["id", 183967328]]
  [1m[36mGuest Load (0.6ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "guest_trait_modifiers" SET "modifier" = ? WHERE "guest_trait_modifiers"."id" = ?[0m  [["modifier", "something something darkside"], ["id", 137107082]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_can_update_self
---------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?[0m  [["name", "WHEEL!"], ["id", 567324533]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_objects_suports_explicit_class_and_class_name
--------------------------------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdminTrait Load (0.1ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "admin_traits" SET "value" = ? WHERE "admin_traits"."id" = ?  [["value", "lol"], ["id", 286136294]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_polymorphism
---------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mProperty Load (0.1ms)[0m  SELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1  [["id", 452975041]]
  [1m[36mProperty Load (0.1ms)[0m  [1mSELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1[0m  [["id", 288924083]]
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mGuest Load (0.1ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?[0m  [["value", "blah"], ["id", 452975041]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?  [["value", "blah blah"], ["id", 288924083]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_creation_updates_master
-----------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuest Load (0.1ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "guest_traits" ("value", "guest_id") VALUES (?, ?)[0m  [["value", "some bullshit"], ["guest_id", 463259521]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdmin Load (0.0ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?  [["name", "lol"], ["id", 631553402]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_implict_class
----------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuestTrait Load (0.0ms)[0m  [1mSELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1[0m  [["id", 183967328]]
  [1m[35mGuest Load (0.0ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36mTrait Load (0.1ms)[0m  [1mSELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1[0m  [["id", 165294587]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "guest_traits" SET "value" = ? WHERE "guest_traits"."id" = ?[0m  [["value", "who cares"], ["id", 183967328]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through_with_explicit_target_class
--------------------------------------------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTraitModifier Load (0.8ms)[0m  [1mSELECT  "admin_trait_modifiers".* FROM "admin_trait_modifiers" WHERE "admin_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 971484503]]
  [1m[35mAdminTrait Load (0.1ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.0ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "admin_trait_modifiers" SET "modifier" = ? WHERE "admin_trait_modifiers"."id" = ?  [["modifier", "something something darkside"], ["id", 971484503]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_destruction_updates_master
--------------------------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTrait Load (0.2ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "admin_traits" WHERE "admin_traits"."id" = ?[0m  [["id", 286136294]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_can_handle_comm_object_failures
-----------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mStandalone Load (0.3ms)[0m  SELECT  "standalones".* FROM "standalones" WHERE "standalones"."id" = ? LIMIT 1  [["id", 457976964]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "standalones" SET "value" = ? WHERE "standalones"."id" = ?  [["value", "something new"], ["id", 457976964]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "standalones" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150228015009"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "standalones"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "standalones" ("value", "id") VALUES ('whatever', 457976964)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guests"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guests" ("name", "id") VALUES ('Greg', 463259521)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "guests" ("name", "id") VALUES ('Joe', 633107804)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "guest_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_trait_modifiers" ("modifier", "id", "guest_trait_id") VALUES ('whatever', 137107082, 183967328)[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_implict_class
----------------------------------------------------------------------------
  [1m[35mAdmin Load (0.6ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuestTrait Load (0.1ms)[0m  [1mSELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1[0m  [["id", 183967328]]
  [1m[35mGuest Load (0.1ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36mTrait Load (0.1ms)[0m  [1mSELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1[0m  [["id", 165294587]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "guest_traits" SET "value" = ? WHERE "guest_traits"."id" = ?[0m  [["value", "who cares"], ["id", 183967328]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_polymorphism
---------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mProperty Load (0.1ms)[0m  SELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1  [["id", 452975041]]
  [1m[36mProperty Load (0.1ms)[0m  [1mSELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1[0m  [["id", 288924083]]
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mGuest Load (0.1ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?[0m  [["value", "blah"], ["id", 452975041]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?  [["value", "blah blah"], ["id", 288924083]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through
-----------------------------------------------------------------
  [1m[36mAdmin Load (0.0ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mGuestTraitModifier Load (0.1ms)[0m  SELECT  "guest_trait_modifiers".* FROM "guest_trait_modifiers" WHERE "guest_trait_modifiers"."id" = ? LIMIT 1  [["id", 137107082]]
  [1m[36mGuestTrait Load (0.1ms)[0m  [1mSELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1[0m  [["id", 183967328]]
  [1m[35mGuest Load (0.0ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "guest_trait_modifiers" SET "modifier" = ? WHERE "guest_trait_modifiers"."id" = ?  [["modifier", "something something darkside"], ["id", 137107082]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through_with_explicit_target_class
--------------------------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTraitModifier Load (0.4ms)[0m  [1mSELECT  "admin_trait_modifiers".* FROM "admin_trait_modifiers" WHERE "admin_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 971484503]]
  [1m[35mAdminTrait Load (0.4ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "admin_trait_modifiers" SET "modifier" = ? WHERE "admin_trait_modifiers"."id" = ?  [["modifier", "something something darkside"], ["id", 971484503]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_destruction_updates_master
--------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTrait Load (0.1ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "admin_traits" WHERE "admin_traits"."id" = ?[0m  [["id", 286136294]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_can_handle_comm_object_failures
-----------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mStandalone Load (0.2ms)[0m  SELECT  "standalones".* FROM "standalones" WHERE "standalones"."id" = ? LIMIT 1  [["id", 457976964]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "standalones" SET "value" = ? WHERE "standalones"."id" = ?  [["value", "something new"], ["id", 457976964]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_creation_updates_master
-----------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuest Load (0.0ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "guest_traits" ("value", "guest_id") VALUES (?, ?)[0m  [["value", "some bullshit"], ["guest_id", 463259521]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 631553402]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?[0m  [["name", "lol"], ["id", 631553402]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_objects_suports_explicit_class_and_class_name
--------------------------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdminTrait Load (0.2ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.2ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "admin_traits" SET "value" = ? WHERE "admin_traits"."id" = ?  [["value", "lol"], ["id", 286136294]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_can_update_self
---------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?  [["name", "WHEEL!"], ["id", 567324533]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mAdminTrait Load (0.0ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to Schema (20150228015009)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "guests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "guest_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_id" integer, "trait_id" integer, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "admin_traits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "thing_id" integer, "value" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "user_type" varchar, "value" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "guest_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guest_trait_id" integer, "modifier" varchar) 
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "admin_trait_modifiers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admin_trait_id" integer, "modifier" varchar) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "standalones" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "value" varchar) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150228015009"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "traits"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "traits" ("name", "id") VALUES ('something', 165294587)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "traits" ("name", "id") VALUES ('something else', 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "admin_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_traits" ("value", "id", "user_id", "thing_id") VALUES ('tha larch', 286136294, 567324533, 775016631)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "guest_traits"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guest_traits" ("value", "id", "guest_id", "trait_id") VALUES ('many moons', 183967328, 463259521, 165294587)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admin_trait_modifiers"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admin_trait_modifiers" ("modifier", "id", "admin_trait_id") VALUES ('whatever', 971484503, 286136294)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "admins"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "admins" ("name", "id") VALUES ('superuser', 631553402)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "admins" ("name", "id") VALUES ('wheel', 567324533)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "standalones"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "standalones" ("value", "id") VALUES ('whatever', 457976964)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "properties"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('whatever', 452975041, 'Admin', 631553402)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "properties" ("value", "id", "user_type", "user_id") VALUES ('thing', 288924083, 'Guest', 463259521)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "guests"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "guests" ("name", "id") VALUES ('Greg', 463259521)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guests" ("name", "id") VALUES ('Joe', 633107804)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "guest_trait_modifiers"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "guest_trait_modifiers" ("modifier", "id", "guest_trait_id") VALUES ('whatever', 137107082, 183967328)[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through
-----------------------------------------------------------------
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mGuestTraitModifier Load (0.1ms)[0m  [1mSELECT  "guest_trait_modifiers".* FROM "guest_trait_modifiers" WHERE "guest_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 137107082]]
  [1m[35mGuestTrait Load (0.2ms)[0m  SELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1  [["id", 183967328]]
  [1m[36mGuest Load (0.2ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "guest_trait_modifiers" SET "modifier" = ? WHERE "guest_trait_modifiers"."id" = ?[0m  [["modifier", "something something darkside"], ["id", 137107082]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_implict_class
----------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mGuestTrait Load (0.1ms)[0m  SELECT  "guest_traits".* FROM "guest_traits" WHERE "guest_traits"."id" = ? LIMIT 1  [["id", 183967328]]
  [1m[36mGuest Load (0.0ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 165294587]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "guest_traits" SET "value" = ? WHERE "guest_traits"."id" = ?  [["value", "who cares"], ["id", 183967328]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_subordinate_object_can_update_through_with_explicit_target_class
--------------------------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTraitModifier Load (0.1ms)[0m  [1mSELECT  "admin_trait_modifiers".* FROM "admin_trait_modifiers" WHERE "admin_trait_modifiers"."id" = ? LIMIT 1[0m  [["id", 971484503]]
  [1m[35mAdminTrait Load (0.2ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "admin_trait_modifiers" SET "modifier" = ? WHERE "admin_trait_modifiers"."id" = ?  [["modifier", "something something darkside"], ["id", 971484503]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_can_handle_comm_object_failures
-----------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mStandalone Load (0.1ms)[0m  [1mSELECT  "standalones".* FROM "standalones" WHERE "standalones"."id" = ? LIMIT 1[0m  [["id", 457976964]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "standalones" SET "value" = ? WHERE "standalones"."id" = ?[0m  [["value", "something new"], ["id", 457976964]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_can_update_self
---------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?[0m  [["name", "WHEEL!"], ["id", 567324533]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_objects_suports_explicit_class_and_class_name
--------------------------------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdminTrait Load (0.1ms)[0m  SELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1  [["id", 286136294]]
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mTrait Load (0.1ms)[0m  SELECT  "traits".* FROM "traits" WHERE "traits"."id" = ? LIMIT 1  [["id", 775016631]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "admin_traits" SET "value" = ? WHERE "admin_traits"."id" = ?  [["value", "lol"], ["id", 286136294]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
MasterCacheObjectTest: test_cache_key_generates_new_key
-------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
MasterCacheObjectTest: test_touch_cache_through_gem
---------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mAdmin Load (0.0ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "admins" SET "name" = ? WHERE "admins"."id" = ?  [["name", "lol"], ["id", 631553402]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
MasterCacheObjectTest: test_touch_cache_updates_cache_key
---------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------------------
MasterCacheObjectTest: test_update_subordinate_object_supports_polymorphism
---------------------------------------------------------------------------
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mProperty Load (0.3ms)[0m  SELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1  [["id", 452975041]]
  [1m[36mProperty Load (0.2ms)[0m  [1mSELECT  "properties".* FROM "properties" WHERE "properties"."id" = ? LIMIT 1[0m  [["id", 288924083]]
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mGuest Load (0.1ms)[0m  [1mSELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1[0m  [["id", 463259521]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?[0m  [["value", "blah"], ["id", 452975041]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "properties" SET "value" = ? WHERE "properties"."id" = ?  [["value", "blah blah"], ["id", 288924083]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_destruction_updates_master
--------------------------------------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 567324533]]
  [1m[36mAdminTrait Load (0.1ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "admin_traits" WHERE "admin_traits"."id" = ?[0m  [["id", 286136294]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
MasterCacheObjectTest: test_subordingate_object_creation_updates_master
-----------------------------------------------------------------------
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 567324533]]
  [1m[35mGuest Load (0.2ms)[0m  SELECT  "guests".* FROM "guests" WHERE "guests"."id" = ? LIMIT 1  [["id", 463259521]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "guest_traits" ("value", "guest_id") VALUES (?, ?)  [["value", "some bullshit"], ["guest_id", 463259521]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
CacheMachineTest: test_class_name_formatting
--------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CacheMachineTest: test_object_name_formatting
---------------------------------------------
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 631553402]]
  [1m[36mAdminTrait Load (0.1ms)[0m  [1mSELECT  "admin_traits".* FROM "admin_traits" WHERE "admin_traits"."id" = ? LIMIT 1[0m  [["id", 286136294]]
  [1m[35m (0.1ms)[0m  rollback transaction
